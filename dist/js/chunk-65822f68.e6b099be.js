(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65822f68"],{"0590":function(t,e,r){},"5c4c":function(t,e,r){var a=r("a2d6"),n=r("ecaf").f,o=Function.prototype,i=o.toString,s=/^\s*function ([^ (]*)/,l="name";a&&!(l in o)&&n(o,l,{configurable:!0,get:function(){try{return i.call(this).match(s)[1]}catch(t){return""}}})},"8c7e":function(t,e,r){},"994f":function(t,e,r){"use strict";r("8c7e")},ae8d:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._t("title")],2),t._t("content")],2)],1)},n=[],o={},i=o,s=(r("e614"),r("c701")),l=Object(s["a"])(i,a,n,!1,null,"4f571a4d",null);e["a"]=l.exports},c40e:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"h",(function(){return o})),r.d(e,"d",(function(){return i})),r.d(e,"f",(function(){return s})),r.d(e,"i",(function(){return l})),r.d(e,"a",(function(){return c})),r.d(e,"g",(function(){return u})),r.d(e,"c",(function(){return d})),r.d(e,"e",(function(){return m}));var a=r("a6a2");function n(t){return a["a"].post("/goods/addcate",t)}function o(t){return a["a"].get("/goods/catelist",t)}function i(t){return a["a"].get("/goods/delcate",t)}function s(t){return a["a"].post("/goods/editcate",t)}function l(){return a["a"].get("/goods/categories")}function c(t){return a["a"].post("/goods/add",t)}function u(t){return a["a"].get("/goods/list",t)}function d(t){return a["a"].get("/goods/del",t)}function m(t){return a["a"].post("/goods/edit",t)}},cd33:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"goodslist"},[r("Card",[r("div",{attrs:{slot:"title"},slot:"title"},[t._v("商品列表")]),r("div",{attrs:{slot:"content"},slot:"content"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[r("el-form-item",{attrs:{label:"商品ID:"}},[r("span",[t._v(t._s(e.row.id))])]),r("el-form-item",{attrs:{label:"所属分类:"}},[r("span",[t._v(t._s(e.row.category))])]),r("el-form-item",{attrs:{label:"商品图片:"}},[r("span",[t._v(t._s(e.row.imgUrl))])]),r("el-form-item",{attrs:{label:"商品评价:"}},[r("span",[t._v(t._s(e.row.common))])]),r("el-form-item",{attrs:{label:"商品描述:"}},[r("span",[t._v(t._s(e.row.goodsDesc))])]),r("el-form-item",{attrs:{label:"商品名称:"}},[r("span",[t._v(t._s(e.row.name))])]),r("el-form-item",{attrs:{label:"商品价格:"}},[r("span",[t._v(t._s(e.row.price))])]),r("el-form-item",{attrs:{label:"创建时间:"}},[r("span",[t._v(t._s(e.row.ctime))])]),r("el-form-item",{attrs:{label:"商品销量:"}},[r("span",[t._v(t._s(e.row.sellCount))])])],1)]}}])}),r("el-table-column",{attrs:{label:"商品名称",prop:"tableData.name"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),r("el-table-column",{attrs:{label:"所属分类",prop:"tableData.category"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.category))]}}])}),r("el-table-column",{attrs:{label:"商品价格",prop:"tableData.price"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.price))]}}])}),r("el-table-column",{attrs:{label:"商品图片",prop:"baseUrl+imgUrl"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.baseUrl+e.row.imgUrl}})]}}])}),r("el-table-column",{attrs:{label:"商品描述",prop:"tableData.goodsDesc"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.goodsDesc))]}}])}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return t.edit(e.row)}}},[t._v("编辑")]),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return t.del(e.row)}}},[t._v("删除")])]}}])})],1),r("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[1,3,5,10],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]),r("el-dialog",{attrs:{title:"修改商品",visible:t.editFormVisible},on:{"update:visible":function(e){t.editFormVisible=e}}},[r("el-form",{ref:"editForm",attrs:{model:t.editForm,"label-width":"80px",size:"mini"}},[r("el-form-item",{attrs:{label:"商品名称"}},[r("el-input",{staticClass:"goodsname",model:{value:t.editForm.name,callback:function(e){t.$set(t.editForm,"name",e)},expression:"editForm.name"}})],1),r("el-form-item",{attrs:{label:"商品分类"}},[r("el-select",{attrs:{placeholder:"请选择添加商品"},model:{value:t.editForm.category,callback:function(e){t.$set(t.editForm,"category",e)},expression:"editForm.category"}},t._l(t.typeArr,(function(t){return r("el-option",{key:t.cateName,attrs:{label:t.cateName,value:t.cateName}})})),1)],1),r("el-form-item",{attrs:{label:"商品价格"}},[r("el-input-number",{attrs:{min:1,label:"价格"},model:{value:t.editForm.price,callback:function(e){t.$set(t.editForm,"price",e)},expression:"editForm.price"}})],1),r("el-form-item",{attrs:{label:"上传图片"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://127.0.0.1:5000/goods/goods_img_upload","show-file-list":!1,"on-success":t.handleAvatarSuccess}},[t.imgUrl?r("img",{staticClass:"avatar",attrs:{src:t.baseUrl+t.editForm.imgUrl}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),r("el-form-item",{attrs:{label:"商品描述"}},[r("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入内容"},model:{value:t.editForm.goodsDesc,callback:function(e){t.$set(t.editForm,"goodsDesc",e)},expression:"editForm.goodsDesc"}})],1),r("el-form-item",{attrs:{size:"large"}},[r("el-button",{attrs:{type:"primary"},on:{click:t.editBtn}},[t._v("修改商品")]),r("el-button",[t._v("取消")])],1)],1)],1)],1)},n=[],o=(r("422c"),r("5c4c"),r("1f90"),r("6a61"),r("2e91")),i=r("ae8d"),s=r("c40e"),l=r("caaf"),c=r.n(l),u={components:{Card:i["a"]},data:function(){return{baseUrl:"http://127.0.0.1:5000/upload/imgs/goods_img/",currentPage:1,pageSize:3,total:1,imgUrl:"",tableData:[],editFormVisible:!1,editForm:{},typeArr:[]}},methods:{getGoodsList:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["g"])({currentPage:t.currentPage,pageSize:t.pageSize});case 2:r=e.sent,a=r.total,n=r.data,n.length||1==t.currentPage||(t.currentPage-=1,t.getGoodsList()),n.forEach((function(e){t.imgUrl=e.imgUrl,e.ctime=c()(e.ctime).format("YYY-MM-DD HH:mm:ss")})),t.tableData=n,t.total=a;case 9:case"end":return e.stop()}}),e)})))()},edit:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.editFormVisible=!0,e.editForm=t,r.next=4,Object(s["i"])();case 4:a=r.sent,n=a.categories,e.typeArr=n;case 7:case"end":return r.stop()}}),r)})))()},del:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(s["c"])({id:t.id});case 2:a=r.sent,n=a.code,0==n&&e.getGoodsList();case 5:case"end":return r.stop()}}),r)})))()},handleSizeChange:function(t){this.pageSize=t,this.getGoodsList()},handleCurrentChange:function(t){this.currentPage=t,this.getGoodsList()},handleAvatarSuccess:function(t){this.editForm.imgUrl=t.imgUrl},editBtn:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r,a,n,o,i,l,c,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.editForm,a=r.name,n=r.category,o=r.price,i=r.imgUrl,l=r.goodsDesc,c=r.id,e.next=3,Object(s["e"])({name:a,category:n,price:o,imgUrl:i,goodsDesc:l,id:c});case 3:u=e.sent,d=u.code,0==d&&(t.editFormVisible=!1,t.getGoodsList());case 6:case"end":return e.stop()}}),e)})))()}},created:function(){this.getGoodsList()}},d=u,m=(r("994f"),r("c701")),f=Object(m["a"])(d,a,n,!1,null,"1fe656ea",null);e["default"]=f.exports},e614:function(t,e,r){"use strict";r("0590")}}]);
//# sourceMappingURL=chunk-65822f68.e6b099be.js.map